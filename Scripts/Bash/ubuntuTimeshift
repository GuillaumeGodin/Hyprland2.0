#!/bin/bash

# --- Functions ---

install_timeshift() {
    echo "------------------------------------------"
    echo "  Installing Timeshift..."
    echo "------------------------------------------"
    sudo apt update -y
    sudo apt install -y software-properties-common
    sudo add-apt-repository -y ppa:teejee2008/timeshift
    sudo apt update -y
    sudo apt install -y timeshift
    echo "Finished!"
}

remove_timeshift() {
    echo "------------------------------------------"
    echo "  Removing Timeshift..."
    echo "------------------------------------------"
    # 'purge' removes the app and its config files
    sudo apt purge -y timeshift
    
    # Optional: Remove the PPA to keep your system sources clean
    echo "Removing PPA repository..."
    sudo add-apt-repository --remove -y ppa:teejee2008/timeshift
    
    # Clean up unused dependencies
    sudo apt autoremove -y
    echo "Timeshift has been removed."
}

# --- Command Logic ---

case "$1" in
    installTimeshift)
        install_timeshift
        ;;
    removeTimeshift)
        remove_timeshift
        ;;
    *)
        echo "Usage: $0 {installTimeshift|removeTimeshift}"
        exit 1
        ;;
esac